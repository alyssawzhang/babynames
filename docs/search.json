[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "US Baby Names",
    "section": "",
    "text": "1 Introduction\nAlyssa and Austin were the names my parents chose out of a baby name book for me and twin brother when we were born in 2002. These were fairly popular American baby names during the late nineties/early aughts, perhaps due to the prominence of celebrity Alyssa Milano and the release of the Austin Powers film trilogy. I always found it interesting that my parents unwittingly followed a trend, and want to discover other American baby name trends that have occurred over a variety of times and locations. This is a fascinating topic that relates to demography, linguistics, and sociology.\nSome questions I’m interested in studying are: 1. Have gender neutral names become more/less common over time? 2. Which names have switched genders over time? 3.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "data.html",
    "href": "data.html",
    "title": "2  Data",
    "section": "",
    "text": "2.1 Description\nI draw on two sources of data for this project, both accessed by downloading zip files from https://data.gov (the official website for the US government’s open data). The specific links are:\nData source (1) is titled on its website as “Baby Names from Social Security Card Applications - National Data.” This data was collected from a 100% sample of Social Security card applications from 1880 on by the Social Security Administration. The data seems to updated yearly, with the update being July 4, 2025. Data is formatted as 145 comma-delimited text files, each representing a year of birth after 1879 and titled “yobYYYY.TXT”. Each record in the individual annual files has the format “name,sex,number,” where name is 2 to 15 characters, sex is M (male) or F (female) and “number” is the number of occurrences of the name. Each file is sorted first on sex and then on number of occurrences in descending order. To safeguard privacy, names with below 5 occurrences were excluded from the data.\nData source (2) is titled on its website as “Baby Names from Social Security Card Applications - State and District of Columbia Data.” This data was collected from a 100% sample of Social Security card applications starting from 1910 by the Social Security Administration. The data seems to updated yearly, with the update being July 4, 2025. Data is Formatted as 51 comma-delimited text files representing the 50 US states and the District of Columbia, each titled with corresponding state postal abbreviation. Each record in a file has the format: 2-digit state code, sex (M = male or F = female), 4-digit year of birth (starting with 1910), the 2 to 15 character name, and the number of occurrences of the name. Each file is sorted first on sex, then year of birth, and then on number of occurrences in descending order. To safeguard privacy, names with below 5 occurrences were excluded from the data.\nFor convenience, I reconfigured the data sources by formatting their files into 2 dataframes: “names” and “namesbystate”. “names” was created by joining the data source (1) text files for years 1910 to 2024, which became 2,060,539 observations of 4 variables (incl. year). “namesbystate” was created by joining all 51 of the data source (2) text files, which became 6,600,640 observations of 5 variables.\nCode\nlibrary(tidyverse)\n\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   4.0.0     ✔ tibble    3.3.0\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.1.0     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\n\nCode\n# List of years\nyears &lt;- 1910:2024\n\n# Read and combine all files into one dataframe\nnames &lt;- lapply(years, function(y) {\n  file_path &lt;- sprintf(\"names/yob%d.txt\", y)\n  df &lt;- read.csv(file_path, header = FALSE, stringsAsFactors = FALSE)\n  df$year &lt;- y\n  df\n}) |&gt;\n  bind_rows()\n\n# Add column names\ncolnames(names) &lt;- c(\"name\", \"sex\", \"count\", \"year\")\n\n# Check first few rows\nhead(names)\n\n\n      name sex count year\n1     Mary   F 22848 1910\n2    Helen   F 10479 1910\n3 Margaret   F  8226 1910\n4  Dorothy   F  7318 1910\n5     Ruth   F  7212 1910\n6     Anna   F  6436 1910\nCode\n# List all state files (in the folder namesbystate/)\nstate_files &lt;- list.files(\"namesbystate\", pattern = \"*.TXT\", full.names = TRUE)\n\n# Read and combine\nnamesbystate &lt;- lapply(state_files, function(f) {\n  read.csv(f, header = FALSE, stringsAsFactors = FALSE)\n}) |&gt;\n  bind_rows()\n\n# Add column names\ncolnames(namesbystate) &lt;- c(\"state\", \"sex\", \"year\", \"name\", \"count\")\n\n# Check first few rows\nhead(namesbystate)\n\n\n  state sex year     name count\n1    AK   F 1910     Mary    14\n2    AK   F 1910    Annie    12\n3    AK   F 1910     Anna    10\n4    AK   F 1910 Margaret     8\n5    AK   F 1910    Helen     7\n6    AK   F 1910    Elsie     6",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "data.html#description",
    "href": "data.html#description",
    "title": "2  Data",
    "section": "",
    "text": "https://catalog.data.gov/dataset/baby-names-from-social-security-card-applications-national-data\nhttps://catalog.data.gov/dataset/baby-names-from-social-security-card-applications-state-and-district-of-columbia-data",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "data.html#missing-value-analysis",
    "href": "data.html#missing-value-analysis",
    "title": "2  Data",
    "section": "2.2 Missing value analysis",
    "text": "2.2 Missing value analysis\n\n\nCode\nlibrary(redav)\nplot_missing(names, percent = FALSE)\n\n\n\n\n\n\n\n\n\nCode\nplot_missing(namesbystate, percent = FALSE)\n\n\n\n\n\n\n\n\n\nThere are no missing values.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "results.html",
    "href": "results.html",
    "title": "3  Results",
    "section": "",
    "text": "Code\nlibrary(tidyverse)\n\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   4.0.0     ✔ tibble    3.3.0\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.1.0     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\n\nCode\n# List of years\nyears &lt;- 1910:2024\n\n# Read and combine all files into one dataframe\nnames &lt;- lapply(years, function(y) {\n  file_path &lt;- sprintf(\"names/yob%d.txt\", y)\n  df &lt;- read.csv(file_path, header = FALSE, stringsAsFactors = FALSE)\n  df$year &lt;- y\n  df\n}) |&gt;\n  bind_rows()\n\n# Add column names\ncolnames(names) &lt;- c(\"name\", \"sex\", \"count\", \"year\")\n\n# Check first few rows\nhead(names)\n\n\n      name sex count year\n1     Mary   F 22848 1910\n2    Helen   F 10479 1910\n3 Margaret   F  8226 1910\n4  Dorothy   F  7318 1910\n5     Ruth   F  7212 1910\n6     Anna   F  6436 1910\n\n\n\n\nCode\n# List all state files (in the folder namesbystate/)\nstate_files &lt;- list.files(\"namesbystate\", pattern = \"*.TXT\", full.names = TRUE)\n\n# Read and combine\nnamesbystate &lt;- lapply(state_files, function(f) {\n  read.csv(f, header = FALSE, stringsAsFactors = FALSE)\n}) |&gt;\n  bind_rows()\n\n# Add column names\ncolnames(namesbystate) &lt;- c(\"state\", \"sex\", \"year\", \"name\", \"count\")\n\n# Check first few rows\nhead(namesbystate)\n\n\n  state sex year     name count\n1    AK   F 1910     Mary    14\n2    AK   F 1910    Annie    12\n3    AK   F 1910     Anna    10\n4    AK   F 1910 Margaret     8\n5    AK   F 1910    Helen     7\n6    AK   F 1910    Elsie     6\n\n\n\n\nCode\n# Gender neutral names over time\n# Inspired by: https://flowingdata.com/2022/04/08/more-gender-neutral-names/\n\nlibrary(ggplot2)\nlibrary(tidyverse)\n\nnames_wide &lt;- names |&gt;\n  pivot_wider(\n    id_cols = c(name, year), \n    names_from = sex, \n    values_from = count, \n    values_fill = 0\n    )\n\nneutral_names &lt;- names_wide |&gt;\n  group_by(name, year) |&gt;\n  filter(M &gt; 0 & F &gt; 0) |&gt;\n  ungroup()\n\nneutral_names &lt;- neutral_names |&gt;\n  mutate(\n    ratio = M / F,\n    log_ratio = log10(ratio)\n  )\n\nggplot(neutral_names, aes(x=year, y=log_ratio)) + \n  geom_hex(bins=50) +\n  geom_hline(yintercept = 0, color = \"black\", linewidth = 0.3, alpha = 0.7) +\n  geom_hline(yintercept = log10(c(0.01, 0.1, 10, 100)), linetype = \"dotted\", alpha = 0.5) +\n  scale_fill_viridis_c(option = \"magma\", direction = -1) +\n  scale_y_continuous(\n    breaks = log10(c(0.01, 0.1, 1, 10, 100)),\n    labels = c(\"100× more girls\", \"10× more girls\", \"same\", \n               \"10× more boys\", \"100× more boys\"),\n  ) +\n  scale_x_continuous(\n    breaks = seq(1910, 2025, by=10),\n    guide = guide_axis(angle = 30)\n  ) +\n  labs(\n    title = \"Distribution of Gender Ratios Over Time\",\n    subtitle = \"Each hex shows how many names fall into that gender ratio in that year\",\n    x = \"Year\",\n    y = \"Boys / Girls (log10 scale)\"\n    ) +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Notable gender switched names\n# Inspired by: https://flowingdata.com/2019/08/28/gender-switched-names/\nneutral_names_popular &lt;- neutral_names |&gt;\n  group_by(name) |&gt;\n  filter(mean(M+F) &gt; 500)\n\nname_switches &lt;- neutral_names_popular |&gt;\n  group_by(name) |&gt;\n  summarize(\n    min_lr = min(log_ratio, na.rm = TRUE),\n    max_lr = max(log_ratio, na.rm = TRUE),\n    switch_size = max_lr - min_lr,\n    balance = 1 - abs(abs(max_lr) - abs(min_lr)) / (abs(max_lr) + abs(min_lr)),\n    combined_score = switch_size * balance\n  ) |&gt;\n  arrange(desc(combined_score))\n\ntop_switchers &lt;- name_switches |&gt;\n  slice_max(combined_score, n=16) |&gt;\n  pull(name)\n\nswitch_plot_df &lt;- neutral_names |&gt;\n  filter(name %in% top_switchers)\n\nswitch_plot_df$name &lt;- factor(\n  switch_plot_df$name,\n  levels = top_switchers\n)\n\nggplot(switch_plot_df, aes(year, log_ratio)) +\n  geom_line(color = \"black\") +\n  geom_area(aes(fill = log_ratio &gt; 0), alpha = 0.3, show.legend = FALSE) +\n  facet_wrap(~ name) +\n  geom_hline(yintercept = 0, color = \"black\") +\n  scale_y_continuous(\n    breaks = c(-2, -1, 0, 1, 2),\n    labels = c(\"100× girls\", \"10× girls\", \"same\", \"10× boys\", \"100× boys\")\n  ) +\n  labs(\n    title = \"Top Gender-Switched Names\",\n    subtitle = \"Popular names with the strongest and most balanced shifts from male to female or vice versa\",\n    x = \"Year\",\n    y = \"Boys / Girls (log10 scale)\"\n  ) +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Notable gender neutral names\n# Inspired by: https://flowingdata.com/2013/09/25/the-most-unisex-names-in-us-history/\n\nlibrary(tidyverse)\n\n# Compute p_boy, unisexness, etc.\nneutral_pct &lt;- neutral_names_popular |&gt;\n  mutate(\n    total = M + F,\n    p_boy = M / total,\n    p_girl = F / total,\n    unisex = 1 - 2 * abs(p_boy - 0.5),\n    weighted_unisex = unisex * log1p(total)\n  )\n\n# ---- Keep only names with long historical span ----\nmin_year &lt;- min(neutral_pct$year)\nmax_year &lt;- max(neutral_pct$year)\ntotal_years &lt;- max_year - min_year + 1\n\nnames_long_span &lt;- neutral_pct |&gt;\n  group_by(name) |&gt;\n  summarize(n_years = n_distinct(year)) |&gt;\n  filter(n_years &gt;= 0.7 * total_years) |&gt;   # 70% criterion\n  pull(name)\n\nneutral_pct &lt;- neutral_pct |&gt;\n  filter(name %in% names_long_span)\n\n# ---- Compute weighted average unisexness ----\nunisex_scores &lt;- neutral_pct |&gt;\n  group_by(name) |&gt;\n  summarize(score = mean(weighted_unisex)) |&gt;\n  arrange(desc(score))\n\ntop_unisex_names &lt;- unisex_scores |&gt;\n  slice_max(score, n = 16) |&gt;\n  pull(name)\n\n# ---- Reshape for stacked chart ----\nunisex_plot_df &lt;- neutral_pct |&gt;\n  filter(name %in% top_unisex_names) |&gt;\n  mutate(name = factor(name, levels = top_unisex_names)) |&gt;\n  pivot_longer(c(p_boy, p_girl),\n               names_to = \"gender\",\n               values_to = \"prop\") |&gt;\n  mutate(gender = recode(gender, \"p_boy\" = \"Boys\", \"p_girl\" = \"Girls\"))\n\nunisex_plot_df$name &lt;- factor(\n  unisex_plot_df$name,\n  levels = top_unisex_names\n)\n\n# ---- Plot ----\nggplot(unisex_plot_df, aes(year, prop, fill = gender)) +\n  geom_area(alpha = 0.8) +\n  facet_wrap(~ name) +\n  scale_fill_manual(values = c(\"Boys\" = \"#6baed6\", \"Girls\" = \"#fbb4ae\")) +\n  scale_y_continuous(\n    labels = scales::percent_format(accuracy = 1),\n    breaks = seq(0, 1, 0.25)\n  ) +\n  labs(\n    title = \"Top Gender Neutral Names through US History\",\n    subtitle = \"Based on consistency and popularity from 1910–2024 (stacked to 100%)\",\n    x = \"Year\",\n    y = \"Percent\",\n    fill = \"Gender\"\n  ) +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Top 10 female names from 2024, shown from 1910-2024\n# Inspire by: https://lexigenealogy.com/2013/06/popularity-of-girls-names-in-the-us/\ntop10_F_2024 &lt;- names |&gt;\n  filter(sex==\"F\", year==2024) |&gt;\n  slice_max(count, n=10) |&gt;\n  pull(name)\n\ntop10_F_df &lt;- names |&gt;\n  filter(sex==\"F\") |&gt;\n  group_by(year) |&gt;\n  mutate(rank = row_number()) |&gt;\n  ungroup() |&gt;\n  filter(name %in% top10_F_2024) |&gt;\n  mutate(\n    rank_plot = ifelse(rank &lt;= 1000, rank, NA)\n  )\n\nggplot(top10_F_df, aes(x=year, y=rank_plot, color = name)) +\n  geom_line(size = 1.2, position = position_jitter(height=10)) +\n  scale_x_continuous(breaks = seq(1910, 2024, 10)) +\n  scale_y_reverse(\n    breaks = c(1000, 750, 500, 250, 1)\n  ) +\n  labs(title = \"Top 10 Female Names from 2024, shown from 1910-2024\") +\n  scale_color_brewer(palette = \"Set3\")+\n  theme_dark()\n\n\nWarning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.\nℹ Please use `linewidth` instead.\n\n\nWarning: Removed 24 rows containing missing values or values outside the scale range\n(`geom_line()`).\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Top 10 female names from 2024, shown from 1910-2024\ntop10_M_2024 &lt;- names |&gt;\n  filter(sex==\"M\", year==2024)|&gt;\n  slice_max(count, n=10) |&gt;\n  pull(name)\n\ntop10_M_df &lt;- names |&gt;\n  filter(sex==\"M\") |&gt;\n  group_by(year) |&gt;\n  mutate(rank = row_number()) |&gt;\n  ungroup() |&gt;\n  filter(name %in% top10_M_2024) |&gt;\n  mutate(\n    rank_plot = ifelse(rank &lt;= 1000, rank, NA)\n  )\n\nggplot(top10_M_df, aes(x=year, y=rank_plot, color = name)) +\n  geom_line(size = 1.2, position = position_jitter(height=10)) +\n  scale_x_continuous(breaks = seq(1910, 2024, 10)) +\n  scale_y_reverse(\n    breaks = c(1000, 750, 500, 250, 1)\n  ) +\n  labs(title = \"Top 10 Male Names from 2024, shown from 1910-2024\") +\n  scale_color_brewer(palette = \"Set3\")+\n  theme_dark()\n\n\nWarning: Removed 93 rows containing missing values or values outside the scale range\n(`geom_line()`).",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  }
]